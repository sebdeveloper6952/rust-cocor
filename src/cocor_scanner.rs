use std::collections::HashMap;
use std::fs;

#[derive(Debug, Clone)]
pub struct Token {
    pub name: String,
    pub lexeme: String,
}

impl Token {
    pub fn new(name: String, lexeme: String) -> Token {
        Token { name, lexeme }
    }
}

pub struct CocorScanner {
    pub tokens: Vec<Token>,
    index: u32,
}

impl CocorScanner {
    pub fn new(path: &str) -> CocorScanner {
        let mut scanner = CocorScanner {
            tokens: Vec::new(),
            index: 0,
        };
        scanner.init(path);

        scanner
    }
    pub fn next_token(&mut self) -> Option<Token> {
        match self.tokens.get(self.index as usize) {
            Some(token) => {
                self.index += 1;
                Some(token.clone())
            }
            None => None,
        }
    }

    fn init(&mut self, path: &str) {
        let file = fs::read_to_string(path).unwrap();
        let mut dfa: HashMap<u32, HashMap<u8, u32>> = HashMap::new();
        let mut accepting_states: HashMap<u32, String> = HashMap::new();
        dfa.insert(15, HashMap::new());
        dfa.get_mut(&15).unwrap().insert(85, 15);
        dfa.get_mut(&15).unwrap().insert(81, 15);
        dfa.get_mut(&15).unwrap().insert(119, 15);
        dfa.get_mut(&15).unwrap().insert(68, 15);
        dfa.get_mut(&15).unwrap().insert(60, 15);
        dfa.get_mut(&15).unwrap().insert(50, 15);
        dfa.get_mut(&15).unwrap().insert(109, 15);
        dfa.get_mut(&15).unwrap().insert(62, 15);
        dfa.get_mut(&15).unwrap().insert(113, 15);
        dfa.get_mut(&15).unwrap().insert(46, 16);
        dfa.get_mut(&15).unwrap().insert(33, 15);
        dfa.get_mut(&15).unwrap().insert(78, 15);
        dfa.get_mut(&15).unwrap().insert(41, 15);
        dfa.get_mut(&15).unwrap().insert(48, 15);
        dfa.get_mut(&15).unwrap().insert(59, 15);
        dfa.get_mut(&15).unwrap().insert(90, 15);
        dfa.get_mut(&15).unwrap().insert(53, 15);
        dfa.get_mut(&15).unwrap().insert(56, 15);
        dfa.get_mut(&15).unwrap().insert(39, 15);
        dfa.get_mut(&15).unwrap().insert(66, 15);
        dfa.get_mut(&15).unwrap().insert(71, 15);
        dfa.get_mut(&15).unwrap().insert(37, 15);
        dfa.get_mut(&15).unwrap().insert(84, 15);
        dfa.get_mut(&15).unwrap().insert(55, 15);
        dfa.get_mut(&15).unwrap().insert(69, 15);
        dfa.get_mut(&15).unwrap().insert(73, 15);
        dfa.get_mut(&15).unwrap().insert(122, 15);
        dfa.get_mut(&15).unwrap().insert(52, 15);
        dfa.get_mut(&15).unwrap().insert(92, 15);
        dfa.get_mut(&15).unwrap().insert(123, 15);
        dfa.get_mut(&15).unwrap().insert(110, 15);
        dfa.get_mut(&15).unwrap().insert(70, 15);
        dfa.get_mut(&15).unwrap().insert(96, 15);
        dfa.get_mut(&15).unwrap().insert(89, 15);
        dfa.get_mut(&15).unwrap().insert(87, 15);
        dfa.get_mut(&15).unwrap().insert(61, 15);
        dfa.get_mut(&15).unwrap().insert(40, 15);
        dfa.get_mut(&15).unwrap().insert(124, 15);
        dfa.get_mut(&15).unwrap().insert(86, 15);
        dfa.get_mut(&15).unwrap().insert(45, 15);
        dfa.get_mut(&15).unwrap().insert(65, 15);
        dfa.get_mut(&15).unwrap().insert(35, 15);
        dfa.get_mut(&15).unwrap().insert(75, 15);
        dfa.get_mut(&15).unwrap().insert(38, 15);
        dfa.get_mut(&15).unwrap().insert(79, 15);
        dfa.get_mut(&15).unwrap().insert(51, 15);
        dfa.get_mut(&15).unwrap().insert(36, 15);
        dfa.get_mut(&15).unwrap().insert(104, 15);
        dfa.get_mut(&15).unwrap().insert(43, 15);
        dfa.get_mut(&15).unwrap().insert(98, 15);
        dfa.get_mut(&15).unwrap().insert(108, 15);
        dfa.get_mut(&15).unwrap().insert(58, 15);
        dfa.get_mut(&15).unwrap().insert(105, 15);
        dfa.get_mut(&15).unwrap().insert(102, 15);
        dfa.get_mut(&15).unwrap().insert(47, 15);
        dfa.get_mut(&15).unwrap().insert(95, 15);
        dfa.get_mut(&15).unwrap().insert(121, 15);
        dfa.get_mut(&15).unwrap().insert(99, 15);
        dfa.get_mut(&15).unwrap().insert(100, 15);
        dfa.get_mut(&15).unwrap().insert(115, 15);
        dfa.get_mut(&15).unwrap().insert(93, 15);
        dfa.get_mut(&15).unwrap().insert(80, 15);
        dfa.get_mut(&15).unwrap().insert(117, 15);
        dfa.get_mut(&15).unwrap().insert(32, 15);
        dfa.get_mut(&15).unwrap().insert(82, 15);
        dfa.get_mut(&15).unwrap().insert(74, 15);
        dfa.get_mut(&15).unwrap().insert(116, 15);
        dfa.get_mut(&15).unwrap().insert(77, 15);
        dfa.get_mut(&15).unwrap().insert(44, 15);
        dfa.get_mut(&15).unwrap().insert(34, 15);
        dfa.get_mut(&15).unwrap().insert(125, 15);
        dfa.get_mut(&15).unwrap().insert(107, 15);
        dfa.get_mut(&15).unwrap().insert(63, 15);
        dfa.get_mut(&15).unwrap().insert(94, 15);
        dfa.get_mut(&15).unwrap().insert(120, 15);
        dfa.get_mut(&15).unwrap().insert(83, 15);
        dfa.get_mut(&15).unwrap().insert(67, 15);
        dfa.get_mut(&15).unwrap().insert(54, 15);
        dfa.get_mut(&15).unwrap().insert(97, 15);
        dfa.get_mut(&15).unwrap().insert(91, 15);
        dfa.get_mut(&15).unwrap().insert(114, 15);
        dfa.get_mut(&15).unwrap().insert(106, 15);
        dfa.get_mut(&15).unwrap().insert(103, 15);
        dfa.get_mut(&15).unwrap().insert(76, 15);
        dfa.get_mut(&15).unwrap().insert(72, 15);
        dfa.get_mut(&15).unwrap().insert(118, 15);
        dfa.get_mut(&15).unwrap().insert(111, 15);
        dfa.get_mut(&15).unwrap().insert(42, 15);
        dfa.get_mut(&15).unwrap().insert(112, 15);
        dfa.get_mut(&15).unwrap().insert(88, 15);
        dfa.get_mut(&15).unwrap().insert(101, 15);
        dfa.get_mut(&15).unwrap().insert(57, 15);
        dfa.get_mut(&15).unwrap().insert(49, 15);
        dfa.insert(16, HashMap::new());
        dfa.get_mut(&16).unwrap().insert(48, 15);
        dfa.get_mut(&16).unwrap().insert(32, 15);
        dfa.get_mut(&16).unwrap().insert(50, 15);
        dfa.get_mut(&16).unwrap().insert(41, 17);
        dfa.get_mut(&16).unwrap().insert(42, 15);
        dfa.get_mut(&16).unwrap().insert(117, 15);
        dfa.get_mut(&16).unwrap().insert(107, 15);
        dfa.get_mut(&16).unwrap().insert(54, 15);
        dfa.get_mut(&16).unwrap().insert(68, 15);
        dfa.get_mut(&16).unwrap().insert(87, 15);
        dfa.get_mut(&16).unwrap().insert(110, 15);
        dfa.get_mut(&16).unwrap().insert(124, 15);
        dfa.get_mut(&16).unwrap().insert(33, 15);
        dfa.get_mut(&16).unwrap().insert(57, 15);
        dfa.get_mut(&16).unwrap().insert(89, 15);
        dfa.get_mut(&16).unwrap().insert(75, 15);
        dfa.get_mut(&16).unwrap().insert(113, 15);
        dfa.get_mut(&16).unwrap().insert(70, 15);
        dfa.get_mut(&16).unwrap().insert(40, 15);
        dfa.get_mut(&16).unwrap().insert(121, 15);
        dfa.get_mut(&16).unwrap().insert(59, 15);
        dfa.get_mut(&16).unwrap().insert(109, 15);
        dfa.get_mut(&16).unwrap().insert(111, 15);
        dfa.get_mut(&16).unwrap().insert(47, 15);
        dfa.get_mut(&16).unwrap().insert(81, 15);
        dfa.get_mut(&16).unwrap().insert(55, 15);
        dfa.get_mut(&16).unwrap().insert(96, 15);
        dfa.get_mut(&16).unwrap().insert(103, 15);
        dfa.get_mut(&16).unwrap().insert(98, 15);
        dfa.get_mut(&16).unwrap().insert(78, 15);
        dfa.get_mut(&16).unwrap().insert(84, 15);
        dfa.get_mut(&16).unwrap().insert(83, 15);
        dfa.get_mut(&16).unwrap().insert(120, 15);
        dfa.get_mut(&16).unwrap().insert(105, 15);
        dfa.get_mut(&16).unwrap().insert(99, 15);
        dfa.get_mut(&16).unwrap().insert(49, 15);
        dfa.get_mut(&16).unwrap().insert(60, 15);
        dfa.get_mut(&16).unwrap().insert(73, 15);
        dfa.get_mut(&16).unwrap().insert(80, 15);
        dfa.get_mut(&16).unwrap().insert(72, 15);
        dfa.get_mut(&16).unwrap().insert(108, 15);
        dfa.get_mut(&16).unwrap().insert(94, 15);
        dfa.get_mut(&16).unwrap().insert(44, 15);
        dfa.get_mut(&16).unwrap().insert(102, 15);
        dfa.get_mut(&16).unwrap().insert(104, 15);
        dfa.get_mut(&16).unwrap().insert(100, 15);
        dfa.get_mut(&16).unwrap().insert(62, 15);
        dfa.get_mut(&16).unwrap().insert(35, 15);
        dfa.get_mut(&16).unwrap().insert(115, 15);
        dfa.get_mut(&16).unwrap().insert(85, 15);
        dfa.get_mut(&16).unwrap().insert(63, 15);
        dfa.get_mut(&16).unwrap().insert(58, 15);
        dfa.get_mut(&16).unwrap().insert(95, 15);
        dfa.get_mut(&16).unwrap().insert(93, 15);
        dfa.get_mut(&16).unwrap().insert(74, 15);
        dfa.get_mut(&16).unwrap().insert(37, 15);
        dfa.get_mut(&16).unwrap().insert(92, 15);
        dfa.get_mut(&16).unwrap().insert(112, 15);
        dfa.get_mut(&16).unwrap().insert(79, 15);
        dfa.get_mut(&16).unwrap().insert(65, 15);
        dfa.get_mut(&16).unwrap().insert(69, 15);
        dfa.get_mut(&16).unwrap().insert(71, 15);
        dfa.get_mut(&16).unwrap().insert(61, 15);
        dfa.get_mut(&16).unwrap().insert(76, 15);
        dfa.get_mut(&16).unwrap().insert(66, 15);
        dfa.get_mut(&16).unwrap().insert(56, 15);
        dfa.get_mut(&16).unwrap().insert(34, 15);
        dfa.get_mut(&16).unwrap().insert(39, 15);
        dfa.get_mut(&16).unwrap().insert(122, 15);
        dfa.get_mut(&16).unwrap().insert(106, 15);
        dfa.get_mut(&16).unwrap().insert(119, 15);
        dfa.get_mut(&16).unwrap().insert(116, 15);
        dfa.get_mut(&16).unwrap().insert(86, 15);
        dfa.get_mut(&16).unwrap().insert(101, 15);
        dfa.get_mut(&16).unwrap().insert(51, 15);
        dfa.get_mut(&16).unwrap().insert(67, 15);
        dfa.get_mut(&16).unwrap().insert(52, 15);
        dfa.get_mut(&16).unwrap().insert(77, 15);
        dfa.get_mut(&16).unwrap().insert(38, 15);
        dfa.get_mut(&16).unwrap().insert(46, 16);
        dfa.get_mut(&16).unwrap().insert(118, 15);
        dfa.get_mut(&16).unwrap().insert(45, 15);
        dfa.get_mut(&16).unwrap().insert(53, 15);
        dfa.get_mut(&16).unwrap().insert(91, 15);
        dfa.get_mut(&16).unwrap().insert(123, 15);
        dfa.get_mut(&16).unwrap().insert(114, 15);
        dfa.get_mut(&16).unwrap().insert(125, 15);
        dfa.get_mut(&16).unwrap().insert(36, 15);
        dfa.get_mut(&16).unwrap().insert(88, 15);
        dfa.get_mut(&16).unwrap().insert(82, 15);
        dfa.get_mut(&16).unwrap().insert(90, 15);
        dfa.get_mut(&16).unwrap().insert(43, 15);
        dfa.get_mut(&16).unwrap().insert(97, 15);
        dfa.insert(1, HashMap::new());
        dfa.get_mut(&1).unwrap().insert(57, 1);
        dfa.get_mut(&1).unwrap().insert(73, 1);
        dfa.get_mut(&1).unwrap().insert(53, 1);
        dfa.get_mut(&1).unwrap().insert(88, 1);
        dfa.get_mut(&1).unwrap().insert(84, 1);
        dfa.get_mut(&1).unwrap().insert(97, 1);
        dfa.get_mut(&1).unwrap().insert(78, 1);
        dfa.get_mut(&1).unwrap().insert(50, 1);
        dfa.get_mut(&1).unwrap().insert(109, 1);
        dfa.get_mut(&1).unwrap().insert(121, 1);
        dfa.get_mut(&1).unwrap().insert(103, 1);
        dfa.get_mut(&1).unwrap().insert(71, 1);
        dfa.get_mut(&1).unwrap().insert(107, 1);
        dfa.get_mut(&1).unwrap().insert(101, 1);
        dfa.get_mut(&1).unwrap().insert(79, 1);
        dfa.get_mut(&1).unwrap().insert(110, 1);
        dfa.get_mut(&1).unwrap().insert(89, 1);
        dfa.get_mut(&1).unwrap().insert(82, 1);
        dfa.get_mut(&1).unwrap().insert(77, 1);
        dfa.get_mut(&1).unwrap().insert(72, 1);
        dfa.get_mut(&1).unwrap().insert(117, 1);
        dfa.get_mut(&1).unwrap().insert(52, 1);
        dfa.get_mut(&1).unwrap().insert(49, 1);
        dfa.get_mut(&1).unwrap().insert(100, 1);
        dfa.get_mut(&1).unwrap().insert(80, 1);
        dfa.get_mut(&1).unwrap().insert(114, 1);
        dfa.get_mut(&1).unwrap().insert(68, 1);
        dfa.get_mut(&1).unwrap().insert(118, 1);
        dfa.get_mut(&1).unwrap().insert(86, 1);
        dfa.get_mut(&1).unwrap().insert(106, 1);
        dfa.get_mut(&1).unwrap().insert(83, 1);
        dfa.get_mut(&1).unwrap().insert(119, 1);
        dfa.get_mut(&1).unwrap().insert(51, 1);
        dfa.get_mut(&1).unwrap().insert(113, 1);
        dfa.get_mut(&1).unwrap().insert(115, 1);
        dfa.get_mut(&1).unwrap().insert(65, 1);
        dfa.get_mut(&1).unwrap().insert(98, 1);
        dfa.get_mut(&1).unwrap().insert(48, 1);
        dfa.get_mut(&1).unwrap().insert(69, 1);
        dfa.get_mut(&1).unwrap().insert(104, 1);
        dfa.get_mut(&1).unwrap().insert(120, 1);
        dfa.get_mut(&1).unwrap().insert(75, 1);
        dfa.get_mut(&1).unwrap().insert(105, 1);
        dfa.get_mut(&1).unwrap().insert(74, 1);
        dfa.get_mut(&1).unwrap().insert(54, 1);
        dfa.get_mut(&1).unwrap().insert(116, 1);
        dfa.get_mut(&1).unwrap().insert(70, 1);
        dfa.get_mut(&1).unwrap().insert(87, 1);
        dfa.get_mut(&1).unwrap().insert(76, 1);
        dfa.get_mut(&1).unwrap().insert(108, 1);
        dfa.get_mut(&1).unwrap().insert(66, 1);
        dfa.get_mut(&1).unwrap().insert(85, 1);
        dfa.get_mut(&1).unwrap().insert(67, 1);
        dfa.get_mut(&1).unwrap().insert(122, 1);
        dfa.get_mut(&1).unwrap().insert(102, 1);
        dfa.get_mut(&1).unwrap().insert(111, 1);
        dfa.get_mut(&1).unwrap().insert(112, 1);
        dfa.get_mut(&1).unwrap().insert(56, 1);
        dfa.get_mut(&1).unwrap().insert(99, 1);
        dfa.get_mut(&1).unwrap().insert(90, 1);
        dfa.get_mut(&1).unwrap().insert(81, 1);
        dfa.get_mut(&1).unwrap().insert(55, 1);
        dfa.insert(5, HashMap::new());
        dfa.get_mut(&5).unwrap().insert(46, 15);
        dfa.insert(13, HashMap::new());
        dfa.get_mut(&13).unwrap().insert(86, 8);
        dfa.get_mut(&13).unwrap().insert(52, 8);
        dfa.get_mut(&13).unwrap().insert(55, 8);
        dfa.get_mut(&13).unwrap().insert(123, 8);
        dfa.get_mut(&13).unwrap().insert(79, 8);
        dfa.get_mut(&13).unwrap().insert(115, 8);
        dfa.get_mut(&13).unwrap().insert(92, 8);
        dfa.get_mut(&13).unwrap().insert(87, 8);
        dfa.get_mut(&13).unwrap().insert(97, 8);
        dfa.get_mut(&13).unwrap().insert(63, 8);
        dfa.get_mut(&13).unwrap().insert(77, 8);
        dfa.get_mut(&13).unwrap().insert(80, 8);
        dfa.get_mut(&13).unwrap().insert(81, 8);
        dfa.get_mut(&13).unwrap().insert(33, 8);
        dfa.get_mut(&13).unwrap().insert(40, 8);
        dfa.get_mut(&13).unwrap().insert(110, 8);
        dfa.get_mut(&13).unwrap().insert(41, 8);
        dfa.get_mut(&13).unwrap().insert(101, 8);
        dfa.get_mut(&13).unwrap().insert(99, 8);
        dfa.get_mut(&13).unwrap().insert(94, 8);
        dfa.get_mut(&13).unwrap().insert(72, 8);
        dfa.get_mut(&13).unwrap().insert(39, 8);
        dfa.get_mut(&13).unwrap().insert(45, 8);
        dfa.get_mut(&13).unwrap().insert(62, 13);
        dfa.get_mut(&13).unwrap().insert(84, 8);
        dfa.get_mut(&13).unwrap().insert(46, 8);
        dfa.get_mut(&13).unwrap().insert(120, 8);
        dfa.get_mut(&13).unwrap().insert(76, 8);
        dfa.get_mut(&13).unwrap().insert(105, 8);
        dfa.get_mut(&13).unwrap().insert(95, 8);
        dfa.get_mut(&13).unwrap().insert(107, 8);
        dfa.get_mut(&13).unwrap().insert(57, 8);
        dfa.get_mut(&13).unwrap().insert(104, 8);
        dfa.get_mut(&13).unwrap().insert(113, 8);
        dfa.get_mut(&13).unwrap().insert(69, 8);
        dfa.get_mut(&13).unwrap().insert(51, 8);
        dfa.get_mut(&13).unwrap().insert(118, 8);
        dfa.get_mut(&13).unwrap().insert(68, 8);
        dfa.get_mut(&13).unwrap().insert(47, 8);
        dfa.get_mut(&13).unwrap().insert(112, 8);
        dfa.get_mut(&13).unwrap().insert(73, 8);
        dfa.get_mut(&13).unwrap().insert(38, 8);
        dfa.get_mut(&13).unwrap().insert(98, 8);
        dfa.get_mut(&13).unwrap().insert(114, 8);
        dfa.get_mut(&13).unwrap().insert(34, 8);
        dfa.get_mut(&13).unwrap().insert(48, 8);
        dfa.get_mut(&13).unwrap().insert(37, 8);
        dfa.get_mut(&13).unwrap().insert(93, 8);
        dfa.get_mut(&13).unwrap().insert(36, 8);
        dfa.get_mut(&13).unwrap().insert(91, 8);
        dfa.get_mut(&13).unwrap().insert(44, 8);
        dfa.get_mut(&13).unwrap().insert(85, 8);
        dfa.get_mut(&13).unwrap().insert(61, 8);
        dfa.get_mut(&13).unwrap().insert(65, 8);
        dfa.get_mut(&13).unwrap().insert(108, 8);
        dfa.get_mut(&13).unwrap().insert(124, 8);
        dfa.get_mut(&13).unwrap().insert(111, 8);
        dfa.get_mut(&13).unwrap().insert(75, 8);
        dfa.get_mut(&13).unwrap().insert(43, 8);
        dfa.get_mut(&13).unwrap().insert(74, 8);
        dfa.get_mut(&13).unwrap().insert(60, 8);
        dfa.get_mut(&13).unwrap().insert(119, 8);
        dfa.get_mut(&13).unwrap().insert(106, 8);
        dfa.get_mut(&13).unwrap().insert(109, 8);
        dfa.get_mut(&13).unwrap().insert(122, 8);
        dfa.get_mut(&13).unwrap().insert(58, 8);
        dfa.get_mut(&13).unwrap().insert(96, 8);
        dfa.get_mut(&13).unwrap().insert(42, 8);
        dfa.get_mut(&13).unwrap().insert(125, 8);
        dfa.get_mut(&13).unwrap().insert(54, 8);
        dfa.get_mut(&13).unwrap().insert(53, 8);
        dfa.get_mut(&13).unwrap().insert(78, 8);
        dfa.get_mut(&13).unwrap().insert(59, 8);
        dfa.get_mut(&13).unwrap().insert(102, 8);
        dfa.get_mut(&13).unwrap().insert(121, 8);
        dfa.get_mut(&13).unwrap().insert(66, 8);
        dfa.get_mut(&13).unwrap().insert(49, 8);
        dfa.get_mut(&13).unwrap().insert(90, 8);
        dfa.get_mut(&13).unwrap().insert(71, 8);
        dfa.get_mut(&13).unwrap().insert(56, 8);
        dfa.get_mut(&13).unwrap().insert(35, 8);
        dfa.get_mut(&13).unwrap().insert(116, 8);
        dfa.get_mut(&13).unwrap().insert(50, 8);
        dfa.get_mut(&13).unwrap().insert(83, 8);
        dfa.get_mut(&13).unwrap().insert(67, 8);
        dfa.get_mut(&13).unwrap().insert(32, 8);
        dfa.get_mut(&13).unwrap().insert(103, 8);
        dfa.get_mut(&13).unwrap().insert(117, 8);
        dfa.get_mut(&13).unwrap().insert(100, 8);
        dfa.get_mut(&13).unwrap().insert(70, 8);
        dfa.get_mut(&13).unwrap().insert(82, 8);
        dfa.get_mut(&13).unwrap().insert(88, 8);
        dfa.get_mut(&13).unwrap().insert(89, 8);
        dfa.insert(8, HashMap::new());
        dfa.get_mut(&8).unwrap().insert(81, 8);
        dfa.get_mut(&8).unwrap().insert(35, 8);
        dfa.get_mut(&8).unwrap().insert(96, 8);
        dfa.get_mut(&8).unwrap().insert(39, 8);
        dfa.get_mut(&8).unwrap().insert(87, 8);
        dfa.get_mut(&8).unwrap().insert(52, 8);
        dfa.get_mut(&8).unwrap().insert(48, 8);
        dfa.get_mut(&8).unwrap().insert(120, 8);
        dfa.get_mut(&8).unwrap().insert(40, 8);
        dfa.get_mut(&8).unwrap().insert(36, 8);
        dfa.get_mut(&8).unwrap().insert(85, 8);
        dfa.get_mut(&8).unwrap().insert(86, 8);
        dfa.get_mut(&8).unwrap().insert(98, 8);
        dfa.get_mut(&8).unwrap().insert(119, 8);
        dfa.get_mut(&8).unwrap().insert(55, 8);
        dfa.get_mut(&8).unwrap().insert(41, 8);
        dfa.get_mut(&8).unwrap().insert(107, 8);
        dfa.get_mut(&8).unwrap().insert(63, 8);
        dfa.get_mut(&8).unwrap().insert(103, 8);
        dfa.get_mut(&8).unwrap().insert(57, 8);
        dfa.get_mut(&8).unwrap().insert(50, 8);
        dfa.get_mut(&8).unwrap().insert(104, 8);
        dfa.get_mut(&8).unwrap().insert(72, 8);
        dfa.get_mut(&8).unwrap().insert(68, 8);
        dfa.get_mut(&8).unwrap().insert(110, 8);
        dfa.get_mut(&8).unwrap().insert(75, 8);
        dfa.get_mut(&8).unwrap().insert(79, 8);
        dfa.get_mut(&8).unwrap().insert(49, 8);
        dfa.get_mut(&8).unwrap().insert(54, 8);
        dfa.get_mut(&8).unwrap().insert(116, 8);
        dfa.get_mut(&8).unwrap().insert(44, 8);
        dfa.get_mut(&8).unwrap().insert(46, 8);
        dfa.get_mut(&8).unwrap().insert(106, 8);
        dfa.get_mut(&8).unwrap().insert(37, 8);
        dfa.get_mut(&8).unwrap().insert(71, 8);
        dfa.get_mut(&8).unwrap().insert(60, 8);
        dfa.get_mut(&8).unwrap().insert(124, 8);
        dfa.get_mut(&8).unwrap().insert(94, 8);
        dfa.get_mut(&8).unwrap().insert(92, 8);
        dfa.get_mut(&8).unwrap().insert(45, 8);
        dfa.get_mut(&8).unwrap().insert(123, 8);
        dfa.get_mut(&8).unwrap().insert(118, 8);
        dfa.get_mut(&8).unwrap().insert(113, 8);
        dfa.get_mut(&8).unwrap().insert(89, 8);
        dfa.get_mut(&8).unwrap().insert(84, 8);
        dfa.get_mut(&8).unwrap().insert(83, 8);
        dfa.get_mut(&8).unwrap().insert(125, 8);
        dfa.get_mut(&8).unwrap().insert(101, 8);
        dfa.get_mut(&8).unwrap().insert(34, 8);
        dfa.get_mut(&8).unwrap().insert(47, 8);
        dfa.get_mut(&8).unwrap().insert(100, 8);
        dfa.get_mut(&8).unwrap().insert(105, 8);
        dfa.get_mut(&8).unwrap().insert(91, 8);
        dfa.get_mut(&8).unwrap().insert(76, 8);
        dfa.get_mut(&8).unwrap().insert(95, 8);
        dfa.get_mut(&8).unwrap().insert(67, 8);
        dfa.get_mut(&8).unwrap().insert(108, 8);
        dfa.get_mut(&8).unwrap().insert(70, 8);
        dfa.get_mut(&8).unwrap().insert(90, 8);
        dfa.get_mut(&8).unwrap().insert(58, 8);
        dfa.get_mut(&8).unwrap().insert(42, 8);
        dfa.get_mut(&8).unwrap().insert(38, 8);
        dfa.get_mut(&8).unwrap().insert(51, 8);
        dfa.get_mut(&8).unwrap().insert(61, 8);
        dfa.get_mut(&8).unwrap().insert(115, 8);
        dfa.get_mut(&8).unwrap().insert(62, 13);
        dfa.get_mut(&8).unwrap().insert(56, 8);
        dfa.get_mut(&8).unwrap().insert(73, 8);
        dfa.get_mut(&8).unwrap().insert(109, 8);
        dfa.get_mut(&8).unwrap().insert(121, 8);
        dfa.get_mut(&8).unwrap().insert(43, 8);
        dfa.get_mut(&8).unwrap().insert(74, 8);
        dfa.get_mut(&8).unwrap().insert(93, 8);
        dfa.get_mut(&8).unwrap().insert(33, 8);
        dfa.get_mut(&8).unwrap().insert(66, 8);
        dfa.get_mut(&8).unwrap().insert(53, 8);
        dfa.get_mut(&8).unwrap().insert(69, 8);
        dfa.get_mut(&8).unwrap().insert(59, 8);
        dfa.get_mut(&8).unwrap().insert(32, 8);
        dfa.get_mut(&8).unwrap().insert(122, 8);
        dfa.get_mut(&8).unwrap().insert(82, 8);
        dfa.get_mut(&8).unwrap().insert(102, 8);
        dfa.get_mut(&8).unwrap().insert(65, 8);
        dfa.get_mut(&8).unwrap().insert(77, 8);
        dfa.get_mut(&8).unwrap().insert(78, 8);
        dfa.get_mut(&8).unwrap().insert(99, 8);
        dfa.get_mut(&8).unwrap().insert(117, 8);
        dfa.get_mut(&8).unwrap().insert(97, 8);
        dfa.get_mut(&8).unwrap().insert(114, 8);
        dfa.get_mut(&8).unwrap().insert(111, 8);
        dfa.get_mut(&8).unwrap().insert(88, 8);
        dfa.get_mut(&8).unwrap().insert(112, 8);
        dfa.get_mut(&8).unwrap().insert(80, 8);
        dfa.insert(11, HashMap::new());
        dfa.insert(17, HashMap::new());
        dfa.get_mut(&17).unwrap().insert(62, 15);
        dfa.get_mut(&17).unwrap().insert(36, 15);
        dfa.get_mut(&17).unwrap().insert(93, 15);
        dfa.get_mut(&17).unwrap().insert(44, 15);
        dfa.get_mut(&17).unwrap().insert(52, 15);
        dfa.get_mut(&17).unwrap().insert(110, 15);
        dfa.get_mut(&17).unwrap().insert(47, 15);
        dfa.get_mut(&17).unwrap().insert(60, 15);
        dfa.get_mut(&17).unwrap().insert(71, 15);
        dfa.get_mut(&17).unwrap().insert(108, 15);
        dfa.get_mut(&17).unwrap().insert(66, 15);
        dfa.get_mut(&17).unwrap().insert(105, 15);
        dfa.get_mut(&17).unwrap().insert(112, 15);
        dfa.get_mut(&17).unwrap().insert(97, 15);
        dfa.get_mut(&17).unwrap().insert(86, 15);
        dfa.get_mut(&17).unwrap().insert(80, 15);
        dfa.get_mut(&17).unwrap().insert(46, 16);
        dfa.get_mut(&17).unwrap().insert(48, 15);
        dfa.get_mut(&17).unwrap().insert(95, 15);
        dfa.get_mut(&17).unwrap().insert(104, 15);
        dfa.get_mut(&17).unwrap().insert(115, 15);
        dfa.get_mut(&17).unwrap().insert(70, 15);
        dfa.get_mut(&17).unwrap().insert(73, 15);
        dfa.get_mut(&17).unwrap().insert(67, 15);
        dfa.get_mut(&17).unwrap().insert(54, 15);
        dfa.get_mut(&17).unwrap().insert(74, 15);
        dfa.get_mut(&17).unwrap().insert(117, 15);
        dfa.get_mut(&17).unwrap().insert(114, 15);
        dfa.get_mut(&17).unwrap().insert(68, 15);
        dfa.get_mut(&17).unwrap().insert(116, 15);
        dfa.get_mut(&17).unwrap().insert(50, 15);
        dfa.get_mut(&17).unwrap().insert(89, 15);
        dfa.get_mut(&17).unwrap().insert(69, 15);
        dfa.get_mut(&17).unwrap().insert(59, 15);
        dfa.get_mut(&17).unwrap().insert(113, 15);
        dfa.get_mut(&17).unwrap().insert(58, 15);
        dfa.get_mut(&17).unwrap().insert(41, 15);
        dfa.get_mut(&17).unwrap().insert(35, 15);
        dfa.get_mut(&17).unwrap().insert(118, 15);
        dfa.get_mut(&17).unwrap().insert(63, 15);
        dfa.get_mut(&17).unwrap().insert(79, 15);
        dfa.get_mut(&17).unwrap().insert(92, 15);
        dfa.get_mut(&17).unwrap().insert(78, 15);
        dfa.get_mut(&17).unwrap().insert(49, 15);
        dfa.get_mut(&17).unwrap().insert(94, 15);
        dfa.get_mut(&17).unwrap().insert(61, 15);
        dfa.get_mut(&17).unwrap().insert(103, 15);
        dfa.get_mut(&17).unwrap().insert(125, 15);
        dfa.get_mut(&17).unwrap().insert(82, 15);
        dfa.get_mut(&17).unwrap().insert(91, 15);
        dfa.get_mut(&17).unwrap().insert(42, 15);
        dfa.get_mut(&17).unwrap().insert(107, 15);
        dfa.get_mut(&17).unwrap().insert(33, 15);
        dfa.get_mut(&17).unwrap().insert(90, 15);
        dfa.get_mut(&17).unwrap().insert(96, 15);
        dfa.get_mut(&17).unwrap().insert(84, 15);
        dfa.get_mut(&17).unwrap().insert(109, 15);
        dfa.get_mut(&17).unwrap().insert(75, 15);
        dfa.get_mut(&17).unwrap().insert(51, 15);
        dfa.get_mut(&17).unwrap().insert(119, 15);
        dfa.get_mut(&17).unwrap().insert(32, 15);
        dfa.get_mut(&17).unwrap().insert(99, 15);
        dfa.get_mut(&17).unwrap().insert(101, 15);
        dfa.get_mut(&17).unwrap().insert(55, 15);
        dfa.get_mut(&17).unwrap().insert(72, 15);
        dfa.get_mut(&17).unwrap().insert(100, 15);
        dfa.get_mut(&17).unwrap().insert(124, 15);
        dfa.get_mut(&17).unwrap().insert(120, 15);
        dfa.get_mut(&17).unwrap().insert(121, 15);
        dfa.get_mut(&17).unwrap().insert(65, 15);
        dfa.get_mut(&17).unwrap().insert(37, 15);
        dfa.get_mut(&17).unwrap().insert(77, 15);
        dfa.get_mut(&17).unwrap().insert(45, 15);
        dfa.get_mut(&17).unwrap().insert(40, 15);
        dfa.get_mut(&17).unwrap().insert(123, 15);
        dfa.get_mut(&17).unwrap().insert(43, 15);
        dfa.get_mut(&17).unwrap().insert(85, 15);
        dfa.get_mut(&17).unwrap().insert(98, 15);
        dfa.get_mut(&17).unwrap().insert(122, 15);
        dfa.get_mut(&17).unwrap().insert(87, 15);
        dfa.get_mut(&17).unwrap().insert(76, 15);
        dfa.get_mut(&17).unwrap().insert(38, 15);
        dfa.get_mut(&17).unwrap().insert(34, 15);
        dfa.get_mut(&17).unwrap().insert(39, 15);
        dfa.get_mut(&17).unwrap().insert(53, 15);
        dfa.get_mut(&17).unwrap().insert(111, 15);
        dfa.get_mut(&17).unwrap().insert(57, 15);
        dfa.get_mut(&17).unwrap().insert(106, 15);
        dfa.get_mut(&17).unwrap().insert(83, 15);
        dfa.get_mut(&17).unwrap().insert(102, 15);
        dfa.get_mut(&17).unwrap().insert(81, 15);
        dfa.get_mut(&17).unwrap().insert(88, 15);
        dfa.get_mut(&17).unwrap().insert(56, 15);
        dfa.insert(3, HashMap::new());
        dfa.insert(2, HashMap::new());
        dfa.insert(6, HashMap::new());
        dfa.get_mut(&6).unwrap().insert(94, 6);
        dfa.get_mut(&6).unwrap().insert(97, 6);
        dfa.get_mut(&6).unwrap().insert(44, 6);
        dfa.get_mut(&6).unwrap().insert(75, 6);
        dfa.get_mut(&6).unwrap().insert(118, 6);
        dfa.get_mut(&6).unwrap().insert(71, 6);
        dfa.get_mut(&6).unwrap().insert(47, 6);
        dfa.get_mut(&6).unwrap().insert(65, 6);
        dfa.get_mut(&6).unwrap().insert(56, 6);
        dfa.get_mut(&6).unwrap().insert(117, 6);
        dfa.get_mut(&6).unwrap().insert(89, 6);
        dfa.get_mut(&6).unwrap().insert(76, 6);
        dfa.get_mut(&6).unwrap().insert(96, 6);
        dfa.get_mut(&6).unwrap().insert(39, 6);
        dfa.get_mut(&6).unwrap().insert(37, 6);
        dfa.get_mut(&6).unwrap().insert(100, 6);
        dfa.get_mut(&6).unwrap().insert(81, 6);
        dfa.get_mut(&6).unwrap().insert(35, 6);
        dfa.get_mut(&6).unwrap().insert(82, 6);
        dfa.get_mut(&6).unwrap().insert(72, 6);
        dfa.get_mut(&6).unwrap().insert(57, 6);
        dfa.get_mut(&6).unwrap().insert(92, 6);
        dfa.get_mut(&6).unwrap().insert(108, 6);
        dfa.get_mut(&6).unwrap().insert(121, 6);
        dfa.get_mut(&6).unwrap().insert(77, 6);
        dfa.get_mut(&6).unwrap().insert(59, 6);
        dfa.get_mut(&6).unwrap().insert(109, 6);
        dfa.get_mut(&6).unwrap().insert(124, 6);
        dfa.get_mut(&6).unwrap().insert(103, 6);
        dfa.get_mut(&6).unwrap().insert(40, 6);
        dfa.get_mut(&6).unwrap().insert(58, 6);
        dfa.get_mut(&6).unwrap().insert(91, 6);
        dfa.get_mut(&6).unwrap().insert(68, 6);
        dfa.get_mut(&6).unwrap().insert(54, 6);
        dfa.get_mut(&6).unwrap().insert(78, 6);
        dfa.get_mut(&6).unwrap().insert(116, 6);
        dfa.get_mut(&6).unwrap().insert(66, 6);
        dfa.get_mut(&6).unwrap().insert(101, 6);
        dfa.get_mut(&6).unwrap().insert(52, 6);
        dfa.get_mut(&6).unwrap().insert(69, 6);
        dfa.get_mut(&6).unwrap().insert(32, 6);
        dfa.get_mut(&6).unwrap().insert(60, 6);
        dfa.get_mut(&6).unwrap().insert(105, 6);
        dfa.get_mut(&6).unwrap().insert(86, 6);
        dfa.get_mut(&6).unwrap().insert(106, 6);
        dfa.get_mut(&6).unwrap().insert(70, 6);
        dfa.get_mut(&6).unwrap().insert(115, 6);
        dfa.get_mut(&6).unwrap().insert(113, 6);
        dfa.get_mut(&6).unwrap().insert(114, 6);
        dfa.get_mut(&6).unwrap().insert(102, 6);
        dfa.get_mut(&6).unwrap().insert(41, 6);
        dfa.get_mut(&6).unwrap().insert(93, 6);
        dfa.get_mut(&6).unwrap().insert(111, 6);
        dfa.get_mut(&6).unwrap().insert(42, 6);
        dfa.get_mut(&6).unwrap().insert(62, 6);
        dfa.get_mut(&6).unwrap().insert(88, 6);
        dfa.get_mut(&6).unwrap().insert(49, 6);
        dfa.get_mut(&6).unwrap().insert(43, 6);
        dfa.get_mut(&6).unwrap().insert(50, 6);
        dfa.get_mut(&6).unwrap().insert(33, 6);
        dfa.get_mut(&6).unwrap().insert(63, 6);
        dfa.get_mut(&6).unwrap().insert(38, 6);
        dfa.get_mut(&6).unwrap().insert(123, 6);
        dfa.get_mut(&6).unwrap().insert(87, 6);
        dfa.get_mut(&6).unwrap().insert(51, 6);
        dfa.get_mut(&6).unwrap().insert(53, 6);
        dfa.get_mut(&6).unwrap().insert(34, 14);
        dfa.get_mut(&6).unwrap().insert(85, 6);
        dfa.get_mut(&6).unwrap().insert(95, 6);
        dfa.get_mut(&6).unwrap().insert(80, 6);
        dfa.get_mut(&6).unwrap().insert(36, 6);
        dfa.get_mut(&6).unwrap().insert(112, 6);
        dfa.get_mut(&6).unwrap().insert(73, 6);
        dfa.get_mut(&6).unwrap().insert(99, 6);
        dfa.get_mut(&6).unwrap().insert(74, 6);
        dfa.get_mut(&6).unwrap().insert(119, 6);
        dfa.get_mut(&6).unwrap().insert(84, 6);
        dfa.get_mut(&6).unwrap().insert(79, 6);
        dfa.get_mut(&6).unwrap().insert(61, 6);
        dfa.get_mut(&6).unwrap().insert(98, 6);
        dfa.get_mut(&6).unwrap().insert(107, 6);
        dfa.get_mut(&6).unwrap().insert(125, 6);
        dfa.get_mut(&6).unwrap().insert(46, 6);
        dfa.get_mut(&6).unwrap().insert(55, 6);
        dfa.get_mut(&6).unwrap().insert(120, 6);
        dfa.get_mut(&6).unwrap().insert(45, 6);
        dfa.get_mut(&6).unwrap().insert(67, 6);
        dfa.get_mut(&6).unwrap().insert(122, 6);
        dfa.get_mut(&6).unwrap().insert(110, 6);
        dfa.get_mut(&6).unwrap().insert(48, 6);
        dfa.get_mut(&6).unwrap().insert(90, 6);
        dfa.get_mut(&6).unwrap().insert(104, 6);
        dfa.get_mut(&6).unwrap().insert(83, 6);
        dfa.insert(14, HashMap::new());
        dfa.insert(0, HashMap::new());
        dfa.get_mut(&0).unwrap().insert(76, 1);
        dfa.get_mut(&0).unwrap().insert(74, 1);
        dfa.get_mut(&0).unwrap().insert(110, 1);
        dfa.get_mut(&0).unwrap().insert(116, 1);
        dfa.get_mut(&0).unwrap().insert(75, 1);
        dfa.get_mut(&0).unwrap().insert(97, 1);
        dfa.get_mut(&0).unwrap().insert(103, 1);
        dfa.get_mut(&0).unwrap().insert(41, 7);
        dfa.get_mut(&0).unwrap().insert(79, 1);
        dfa.get_mut(&0).unwrap().insert(88, 1);
        dfa.get_mut(&0).unwrap().insert(68, 1);
        dfa.get_mut(&0).unwrap().insert(87, 1);
        dfa.get_mut(&0).unwrap().insert(67, 1);
        dfa.get_mut(&0).unwrap().insert(114, 1);
        dfa.get_mut(&0).unwrap().insert(46, 3);
        dfa.get_mut(&0).unwrap().insert(115, 1);
        dfa.get_mut(&0).unwrap().insert(113, 1);
        dfa.get_mut(&0).unwrap().insert(84, 1);
        dfa.get_mut(&0).unwrap().insert(124, 11);
        dfa.get_mut(&0).unwrap().insert(121, 1);
        dfa.get_mut(&0).unwrap().insert(72, 1);
        dfa.get_mut(&0).unwrap().insert(120, 1);
        dfa.get_mut(&0).unwrap().insert(85, 1);
        dfa.get_mut(&0).unwrap().insert(60, 8);
        dfa.get_mut(&0).unwrap().insert(89, 1);
        dfa.get_mut(&0).unwrap().insert(111, 1);
        dfa.get_mut(&0).unwrap().insert(90, 1);
        dfa.get_mut(&0).unwrap().insert(102, 1);
        dfa.get_mut(&0).unwrap().insert(123, 12);
        dfa.get_mut(&0).unwrap().insert(109, 1);
        dfa.get_mut(&0).unwrap().insert(83, 1);
        dfa.get_mut(&0).unwrap().insert(86, 1);
        dfa.get_mut(&0).unwrap().insert(70, 1);
        dfa.get_mut(&0).unwrap().insert(34, 6);
        dfa.get_mut(&0).unwrap().insert(122, 1);
        dfa.get_mut(&0).unwrap().insert(119, 1);
        dfa.get_mut(&0).unwrap().insert(80, 1);
        dfa.get_mut(&0).unwrap().insert(61, 4);
        dfa.get_mut(&0).unwrap().insert(78, 1);
        dfa.get_mut(&0).unwrap().insert(108, 1);
        dfa.get_mut(&0).unwrap().insert(107, 1);
        dfa.get_mut(&0).unwrap().insert(40, 5);
        dfa.get_mut(&0).unwrap().insert(65, 1);
        dfa.get_mut(&0).unwrap().insert(77, 1);
        dfa.get_mut(&0).unwrap().insert(91, 9);
        dfa.get_mut(&0).unwrap().insert(98, 1);
        dfa.get_mut(&0).unwrap().insert(100, 1);
        dfa.get_mut(&0).unwrap().insert(82, 1);
        dfa.get_mut(&0).unwrap().insert(66, 1);
        dfa.get_mut(&0).unwrap().insert(69, 1);
        dfa.get_mut(&0).unwrap().insert(112, 1);
        dfa.get_mut(&0).unwrap().insert(106, 1);
        dfa.get_mut(&0).unwrap().insert(117, 1);
        dfa.get_mut(&0).unwrap().insert(73, 1);
        dfa.get_mut(&0).unwrap().insert(93, 10);
        dfa.get_mut(&0).unwrap().insert(81, 1);
        dfa.get_mut(&0).unwrap().insert(71, 1);
        dfa.get_mut(&0).unwrap().insert(125, 2);
        dfa.get_mut(&0).unwrap().insert(104, 1);
        dfa.get_mut(&0).unwrap().insert(101, 1);
        dfa.get_mut(&0).unwrap().insert(99, 1);
        dfa.get_mut(&0).unwrap().insert(118, 1);
        dfa.get_mut(&0).unwrap().insert(105, 1);
        dfa.insert(7, HashMap::new());
        dfa.insert(4, HashMap::new());
        dfa.insert(12, HashMap::new());
        dfa.insert(10, HashMap::new());
        dfa.insert(9, HashMap::new());
        accepting_states.insert(13, String::from("attr"));
        accepting_states.insert(17, String::from("s_action"));
        accepting_states.insert(12, String::from("br_open"));
        accepting_states.insert(14, String::from("string"));
        accepting_states.insert(5, String::from("p_open"));
        accepting_states.insert(7, String::from("p_close"));
        accepting_states.insert(4, String::from("eq"));
        accepting_states.insert(11, String::from("union"));
        accepting_states.insert(1, String::from("ident"));
        accepting_states.insert(2, String::from("br_close"));
        accepting_states.insert(9, String::from("sq_open"));
        accepting_states.insert(3, String::from("p_end"));
        accepting_states.insert(10, String::from("sq_close"));
        let bytes: &[u8] = file.as_bytes();
        let mut curr_idx = 0;
        let mut curr_state = 0;
        let mut states: Vec<u32> = Vec::new();
        let mut curr_lexeme = String::new();
        while curr_idx < bytes.len() {
            let curr_char = bytes[curr_idx];
            if dfa[&curr_state].contains_key(&curr_char) {
                let next_state = dfa[&curr_state][&curr_char];
                curr_state = next_state;
                states.push(curr_state);
                curr_lexeme.push(curr_char as char);
                curr_idx += 1;
            } else if !states.is_empty() {
                while !states.is_empty() {
                    let top = states.pop().unwrap();
                    if accepting_states.contains_key(&top) {
                        self.tokens.push(Token::new(
                            accepting_states[&top].clone(),
                            curr_lexeme.clone(),
                        ));
                        curr_state = 0;
                        states.clear();
                        curr_lexeme.clear();
                    } else {
                        if states.is_empty() {
                            curr_state = 0;
                            curr_lexeme.clear();
                        } else {
                            curr_lexeme.pop();
                            curr_idx -= 1;
                        }
                    }
                }
            } else {
                curr_state = 0;
                curr_idx += 1;
            }
        }
    }
}
